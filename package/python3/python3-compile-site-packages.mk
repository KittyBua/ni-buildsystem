################################################################################
#
# python3-compile-site-packages
#
################################################################################

define PYTHON3_COMPILE_SITE_PACKAGES
	PYTHONPATH="$(TARGET_PYTHON_PATH)" \
	$(HOST_PYTHON_BINARY) \
		$(PKG_PYTHON_PROJECT_BASE)/Lib/compileall.py \
			$(if $(VERBOSE),,-q) \
			-s $(TARGET_DIR) \
			-p / \
			$(TARGET_PYTHON_SITE_PACKAGES_DIR)
endef

python3-compile-site-packages: $(TARGET_DIR)
	$(PYTHON3_COMPILE_SITE_PACKAGES)
