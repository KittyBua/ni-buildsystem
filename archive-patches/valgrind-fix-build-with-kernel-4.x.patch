From fba1b4c551cc2ccc023a070128d6fafa6f4e4af7 Mon Sep 17 00:00:00 2001
Message-Id: <fba1b4c551cc2ccc023a070128d6fafa6f4e4af7.1430737869.git.gandharva@gmx.de>
From: gandharva <gandharva@gmx.de>
Date: Mon, 4 May 2015 13:10:23 +0200
Subject: [PATCH] - fix build with kernel 4.x

---
 configure    | 6 +++---
 configure.ac | 6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/configure b/configure
index 78ddf3e..d4f7a48 100755
--- a/configure
+++ b/configure
@@ -5553,9 +5553,9 @@ $as_echo_n "checking for the kernel version... " >&6; }
         kernel=`uname -r`
 
         case "${kernel}" in
-             2.6.*|3.*)
-        	    { $as_echo "$as_me:${as_lineno-$LINENO}: result: 2.6.x/3.x family (${kernel})" >&5
-$as_echo "2.6.x/3.x family (${kernel})" >&6; }
+             2.6.*|3.*|4.*)
+        	    { $as_echo "$as_me:${as_lineno-$LINENO}: result: 2.6.x/3.x/4.x family (${kernel})" >&5
+$as_echo "2.6.x/3.x/4.x family (${kernel})" >&6; }
 
 $as_echo "#define KERNEL_2_6 1" >>confdefs.h
 
diff --git a/configure.ac b/configure.ac
index 0fd2a41..e6b8eae 100644
--- a/configure.ac
+++ b/configure.ac
@@ -303,9 +303,9 @@ case "${host_os}" in
         kernel=`uname -r`
 
         case "${kernel}" in
-             2.6.*|3.*) 
-        	    AC_MSG_RESULT([2.6.x/3.x family (${kernel})])
-        	    AC_DEFINE([KERNEL_2_6], 1, [Define to 1 if you're using Linux 2.6.x or Linux 3.x])
+             2.6.*|3.*|4.*) 
+        	    AC_MSG_RESULT([2.6.x/3.x/4.x family (${kernel})])
+        	    AC_DEFINE([KERNEL_2_6], 1, [Define to 1 if you're using Linux 2.6.x, Linux 3.x or Linux 4.x])
         	    ;;
 
              2.4.*) 
-- 
2.3.6

